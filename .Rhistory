head(myo_reaction_dates)
mrd33 <- sapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
head(mrd33)
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
head(mrd33)
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
head(mrd33)
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
head(mrd33)
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- mrd33
head(mrd)
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) as.Date(x)
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) as.Date(x))
print(head(mrd))
mrd
mrd33
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd33
mrd33,1
mrd33[,1]
mrd33[1,]
mrd33[1]
mrd
mrd[1]
head(mrd)
mrd33[1]
mrd33[[1]]
mrd33[[[1]]]
mrd33[[1]]
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) [[x]])
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) [x])
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply([mrd33],function(x) x)
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) x)
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) x[1])
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) as.Date(x[1]))
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
print(head(mrd))
mrd33
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
print(head(mrd))
plot(mrd$count~mrd33)
mrd33 <- sapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
print(head(mrd))
mrd33
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
cbind (mrd,mrd33)
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd,mrd33)
print(head(mrd))
head(mrd)
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd,mrd33[1])
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd,mrd33[[1]])
print(head(mrd))
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd)##,mrd33[[1]])
print(head(mrd))
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd,mrd33[[1]])
print(head(mrd))
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd <- cbind (mrd,mrd33[1])
print(head(mrd))
class(mrd[3])
class(mrd[2])
class(mrd[[3]])
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
##mrd <- cbind (mrd,mrd33[1])
mrd$day <- lapply(mrd33,function(x) as.Date("%Y"))
print(head(mrd))
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
##mrd <- cbind (mrd,mrd33[1])
mrd$day <- lapply(mrd33,function(x) as.Date(x,"%Y"))
print(head(mrd))
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
##mrd <- cbind (mrd,mrd33[1])
mrd$day <- lapply(mrd33,function(x) as.Date([x],"%Y"))
print(head(mrd))
plot(mrd$count~mrd33)
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%b%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
##mrd <- cbind (mrd,mrd33[1])
mrd$day <- lapply(mrd33,function(x) as.Date(x,"%Y"))
print(head(mrd))
head(mrd33)
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
##mrd <- cbind (mrd,mrd33[1])
mrd$day <- lapply(mrd33,function(x) as.Date(x,"%Y"))
print(head(mrd))
head(mrd)
head(mrd33)
class(mrd33)
class(mrd33[1])
class(mrd33[[1])
class(mrd33[[1]])
mrd <- myo_reaction_dates
mrd33 <- as.data.frame(lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01")))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
print(head(mrd33))
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01"))
mrd33[1]
mrd33[2]
mrd33[3]
mrd$time[1:3]
mrd33[3]
mrd44 <- as.data.frame(mrd33)
mrd44[1]
mrd44[1:2]
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01")))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd44 <- as.list(mrd33)
print(mr44[1])
print(mrd44[1])
mrd <- myo_reaction_dates
mrd33 <- lapply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01")))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd44 <- as.vector(mrd33)
print(mrd44[1])
mrd <- myo_reaction_dates
mrd33 <- apply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01")))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd44 <- as.vector(mrd33)
print(mrd44[1])
mrd33 <- apply(mrd$time,function(x) as.Date(substr(x,3,8),format="%y%m%d",origin="1970-01-01")))
##mrd$date <- lapply(mrd33,function(x) as.Date(x[[1]]))
mrd44 <- as.data.frame(mrd33)
print(mrd44[1])
print(mrd44[,1:4])
print(mrd44[1,])
mrd5 <- cbind(mrd,mrd44)
head(mrd5)
head(mrd5)
mrd5 <- cbind(mrd,mrd44[1])
head(mrd5)
mrd5 <- cbind(mrd,mrd44[1,])
head(mrd5)
mrd5 <- cbind(mrd,mrd44[,1])
head(mrd5)
class(mrd[,1])
mrd <- myo_reaction_dates
##Get Year
mrd$year <- apply(mrd$time,function(x) substr(x,0,4))
mrd <- myo_reaction_dates
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
head(mrd)
aggByYear <- aggregate(count~year,data=mrd,FUN=sum)
plot(count~year, data=aggByYear)
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,4,2))
mrd$day <- sapply(mrd$time,function(x) substr(x,6,2))
head(mrd)
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,4,6)
mrd$day <- sapply(mrd$time,function(x) substr(x,6,8))
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,4,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,6,8))
head(mrd)
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,4,5))
mrd$day <- sapply(mrd$time,function(x) substr(x,6,7))
head(mrd)
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
head(mrd)
aggByMon <- aggregate(count~month,data=mrd,FUN=sum)
plot(count~year, data=aggByMon)
aggByMon <- aggregate(count~month,data=mrd,FUN=sum)
plot(count~month, data=aggByMon)
mrd$date <- sapply(mrd$time, function(x) as.Date(paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-")))
head(mrd)
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
head(mrd)
mrd$date <- sapply(mrd$time, function(x) as.Date(paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"),format="%y-%m-%d"))
head(mrd)
mrd$date <- lapply(mrd$time, function(x) as.Date(paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"),format="%y-%m-%d"))
mrd$date <- lapply(mrd$time, function(x) as.Date(paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"),format="%y-%m-%d"))
head(mrd)
mrd$date <- lapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
head(mrd)
mrd$date2 <- lapply(mrd$date, function(x) as.Date(x))
head(mrd)
install.packages("lubridate")
library(lubridate)
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- lapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- lapply(mrd$date, function(x) as.Date(x))
head(mrd)
# from Jan 2009 to Dec 2014 as a time series object
myts <- ts(mrd$count, start=c(2004, 1), end=c(2014, 12), frequency=365)
myts
plot(myts)
ggplot(mrd, aes(date, count)) + geom_line() +
scale_x_date(format = "%b-%Y") + xlab("") + ylab("Daily Occurrences")
xlab("") + ylab("Daily Occurrences")
ggplot(mrd, aes(date, count)) + geom_line() +
xlab("") + ylab("Daily Occurrences")
mrd$date2 <- sapply(mrd$date,function(x) as.Date(x,format="%d-%m-%Y"),simplify=FALSE)
head(mrd$date2)
mrd$date
mrd$date2 <- sapply(mrd$date,function(x) as.Date(x,format="%d-%m-%Y"),simplify=TRUE)
mrd$date
head(mrd$date2)
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$date,function(x) as.Date(x,format="%d-%m-%Y"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%d-%m-%Y"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$date,function(x) as.Date(x,format="%Y-%m-%D"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$time,function(x) as.Date(x,format="%Y%m%D"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- lapply(mrd$time,function(x) as.Date(x,format="%Y%m%D"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- lapply(mrd$time,function(x) as.Date(x,format="%Y%m%D"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$time,function(x) as.Date(x,format="%Y%M%D"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$time,function(x) as.Date(x,format="%Y%M%D"),simplify=FALSE,origin="1970-01-01")
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$date2 <- sapply(mrd$time,function(x) as.Date(x,format="%Y%M%D",origin="1970-01-01"),simplify=FALSE)
mrd$date3 <- lapply(mrd$date2,function(x) as.Date(x,format="%Y-%m-%D"))
print(head(mrd))
a <- as.Date(c("2012-01-11","2012-06-30","2012-04-18"))
b <- as.Date(c("2013-04-21","2012-03-22","2012-05-01"))
pmin(a,b)
#[1] "2012-01-11" "2012-03-22" "2012-04-18"
do.call(c,mapply(min,a,b,MoreArgs=list(na.rm=TRUE),SIMPLIFY=FALSE))
#[1] "2012-01-11" "2012-03-22" "2012-04-18"
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
print(head(mrd))
aggByMonYear <- aggregate(count~monthyear,data=MRD,FUN=sum)
plot(count~monthyear,data=aggByMonYear)
aggByMonYear <- aggregate(count~monthyear,data=mrd,FUN=sum)
plot(count~monthyear,data=aggByMonYear)
head(aggByMonYear)
year2014 <- which(mrd$year > 2013)
mrd2014 <- mrd[year2014,]
head(mrd2014)
aggByMon2014 <- aggregate(count~month,data=mrd,FUN=sum)
plot(count~month,data=aggByMon2014)
aggByYear <- aggregate(count~year,data=mrd,FUN=sum)
plot(count~year, data=aggByYear)
mrd <- myo_reaction_dates
library(lubridate)
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date2 <- lapply(mrd$date, function(x) as.Date(x))
print(head(mrd))
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date2 <- lapply(mrd$date, function(x) as.Date(x),simplify=FALSE)
print(head(mrd))
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date2 <- lapply(mrd$date, function(x) as.Date(x))
print(head(mrd))
plot(count~date2,data=mrd)
plot(count~as.Date(date2),data=mrd)
plot(count~unlist(date2),data=mrd)
as.Date(12438)
as.Date(12438,origin="1-1-1970")
as.Date(12438,origin="1970-1-1")
mrd$date3 <- sapply(mrd$date2, function(x) as.Date(x,origin="1970-1-1"))
print(head(mrd))
mrd$date3 <- sapply(mrd$date2, function(x) as.Date(x,origin="1970-1-1"),simplify=F)
print(head(mrd))
mrd$date3 <- sapply(mrd$date2, function(x) as.Date(x,origin="1970-1-1"),simplify=FALSE)
print(head(mrd))
mrd$date3 <- lapply(mrd$date2, function(x) as.Date(x,origin="1970-1-1"),simplify=FALSE)
print(head(mrd))
plot(count~as.Date(date2,origin="1970-1-1"),data=mrd)
mrd$date2 <- as.Date(mrd$date)
plot(count~date,data=mrd)
head(mrd)
mrd$date <- as.Date(mrd$date)
ggplot( data = mrd, aes(date, count )) + geom_line()
ggplot( data = mrd, aes(date, count )) + geom_line() +limits = as.Date(c('2013-01-01','2015-01-01')))
ggplot( data = mrd, aes(date, count )) + geom_line() +limits = as.Date(c('2013-01-01','2015-01-01'))))
ggplot( data = mrd, aes(date, count )) + geom_line() +limits = as.Date(c('2013-01-01','2015-01-01'))
ggplot( data = mrd, aes(date, count )) + geom_line() +scale_x_date(breaks = "1 month",
labels=date_format("%b-%Y"),
limits = as.Date(c('2011-01-01','2013-01-01')))
ggplot( data = mrd, aes(date, count )) + geom_line() +scale_x_date(breaks = "1 month", labels=date_format("%b-%Y"),limits = as.Date(c('2011-01-01','2013-01-01')))
install.packages("scales")
install.packages("scales")
install.packages("scales")
install.packages("scales")
ggplot( data = mrd, aes(date, count )) + geom_line() +scale_x_date(breaks = "1 month", labels=date_format("%b-%Y"),limits = as.Date(c('2013-01-01','2015-01-01')))
library(ggplot)
library(ggplot2)
library(scales)
library(ggplot2)
ggplot( data = mrd, aes(date, count )) + geom_line() +scale_x_date(breaks = "1 month", labels=date_format("%b-%Y"),limits = as.Date(c('2013-01-01','2015-01-01')))
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2011', '1/1/2013'), format="%d/%m/%Y") )
35
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2011', '1/1/2013'), format="%d/%m/%Y") )
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2014', '1/1/2016'), format="%d/%m/%Y") )
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2013', '1/1/2015'), format="%d/%m/%Y") )
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2013', '1/1/2015'), format="%d/%m/%Y") )
ggplot( data = mrd, aes(date, count )) + geom_line() + xlim(as.Date(c('1/1/2011', '1/1/2015'), format="%d/%m/%Y") )
print(head(myo_reaction_dates))
mrd <- myo_reaction_dates
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date <- as.Date(mrd$date)
myo_reaction_dates = fda_query("/drug/event.json") %>%
fda_api_key("WZ2G1t9LB9OsSSaaJXdJDLWZYTxStzb60wsgfqPS") %>%
fda_filter("patient.drug.openfda.generic_name", "testosterone") %>%
fda_filter("patient.reaction.reactionmeddrapt","INFARCTION+MYOCARDIAL") %>%
fda_count("receivedate") %>%
fda_exec()
print(head(myo_reaction_dates))
mrd <- myo_reaction_dates
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date <- as.Date(mrd$date)
library("openfda")
myo_reaction_dates = fda_query("/drug/event.json") %>%
fda_api_key("WZ2G1t9LB9OsSSaaJXdJDLWZYTxStzb60wsgfqPS") %>%
fda_filter("patient.drug.openfda.generic_name", "testosterone") %>%
fda_filter("patient.reaction.reactionmeddrapt","INFARCTION+MYOCARDIAL") %>%
fda_count("receivedate") %>%
fda_exec()
print(head(myo_reaction_dates))
mrd <- myo_reaction_dates
##Get Year
mrd$year <- sapply(mrd$time,function(x) substr(x,0,4))
mrd$month <- sapply(mrd$time,function(x) substr(x,5,6))
mrd$day <- sapply(mrd$time,function(x) substr(x,7,8))
mrd$date <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),substr(x,7,8),sep="-"))
mrd$monthyear <- sapply(mrd$time, function(x) paste(substr(x,0,4),substr(x,5,6),sep="-"))
mrd$date <- as.Date(mrd$date)
require(ggplot2)
counts <- table(mrd$year)
barplot(counts,main="Heart Attacks by Year",xlab="Year")
counts <- table(mrd$year,)
barplot(counts,main="Heart Attacks by Year",xlab="Year",col="red")
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp('shinyApp')
shiny::runApp('shinyApp')
shiny::runApp('shinyApp')
shinyapps::setAccountInfo(name='nswitzer',
token='8A6463CD59773D6ED99664D4B8362D3A',
secret='EuqMf61d8DmEPY4KUC0Ca8ROKzuix2WfOEvHUM/K')
shiny::runApp('shinyApp')
shinyapps::setAccountInfo(name='nswitzer',
token='8A6463CD59773D6ED99664D4B8362D3A',
secret='EuqMf61d8DmEPY4KUC0Ca8ROKzuix2WfOEvHUM/K')
secret='EuqMf61d8DmEPY4KUC0Ca8ROKzuix2WfOEvHUM/K')
source('~/.active-rstudio-document')
shiny::runApp('shinyApp')
library(slidify)
install.packages("ggplot2")
require(devtools)
install.packages("devtools")
require(devtools)
install_github("slidify", "ramnathv")
install_github("slidifyLibraries", "ramnathv")
devtools::install_github("ropenhealth/openfda")
library(slidify)
author("mydeck")
slidify("index.Rmd")
getwd()
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd",encoding="Windows-1252")
install.packages('stringr')
install.packages("stringr")
install.packages("stringr")
slidify("index.Rmd")
library(slidify)
getwd()
slidify("index.Rmd")
